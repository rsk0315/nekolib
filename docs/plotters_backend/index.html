<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The Plotters backend API crate. This is a part of Plotters, the Rust drawing and plotting library, for more details regarding the entire Plotters project, please check the main crate."><title>plotters_backend - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="plotters_backend" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (381d69953 2024-02-24)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c37d3936c59ababd.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"></script>

<style>
  code.code-math {
      background-color: transparent;
  }
</style>

<script>
  'use strict';

  const macros = {
    // '\\foo': '42',
    // '\\bar': '\\operatorname{bar}^{#1}',
    '\\halfopen': '[#1, #2)',
    '\\floor': '\\lfloor #1\\rfloor',
    '\\ceil': '\\lceil #1\\rceil',
    '\\rounded': '\\lfloor #1\\rceil',
    '\\Floor': '\\left\\lfloor #1\\right\\rfloor',
    '\\Ceil': '\\left\\lceil #1\\right\\rceil',
    '\\Rounded': '\\left\\lfloor #1\\right\\rceil',
    '\\angled': '\\langle #1\\rangle',
    '\\Angled': '\\left\\langle #1\\right\\rangle',
    '\\lcm': '\\operatorname*{lcm}',
    '\\gcd': '\\operatorname*{gcd}',
    '\\poly': '\\operatorname{poly}',
    '\\polylog': '\\operatorname{polylog}',
    '\\concat': '\\mathrel{+\\!\\!+}',
    '\\mex': '\\operatorname*{mex}',
    '\\qed': '\\square',
    '\\Q': '\\mathbb{Q}',
    '\\dd': '\\mathrm{d}',
    '\\ForallL': '{}^{\\forall}#1.\\:#2',
    '\\Forall': '{}^{\\forall}#1.\\,\\left[#2\\right]',
    '\\ExistsL': '{}^{\\exists}#1.\\:#2',
    '\\Exists': '{}^{\\exists}#1.\\,\\left[#2\\right]',
    '\\roundp': '(\\kern-.2em[#1]\\kern-.2em)',
    '\\bigroundp': '\\big(\\kern-.25em\\big[#1\\big]\\kern-.25em\\big)',
    '\\Bigroundp': '\\Big(\\kern-.3em\\Big[#1\\Big]\\kern-.3em\\Big)',
    '\\biggroundp': '\\bigg(\\kern-.3em\\bigg[#1\\bigg]\\kern-.3em\\bigg)',
    '\\Biggroundp': '\\Bigg(\\kern-.35em\\Bigg[#1\\Bigg]\\kern-.35em\\Bigg)',
    '\\hfloor': '\\lfloor\\hspace{-.25em}\\lfloor#1\\rfloor\\hspace{-.25em}\\rfloor',
    '\\xgets': '\\xleftarrow{#1}',
    '\\eod': '\\blacksquare', // end of \<details\>
    '\\lldot': '\\mathop{.\\,.}',
    '\\dp': '\\mathrm{dp}',
  };

  document.addEventListener('DOMContentLoaded', () => {
    const maths = document.getElementsByClassName('language-math');
    for (const elt of maths) {
      katex.render(elt.innerText, elt, { displayMode: true, macros });
    }

    const codes = Array.from(document.getElementsByTagName('code'));
    for (const elt of codes) {
      if (elt.classList.contains('language-math')) continue;
      if (elt.classList.contains('language-inline-math')) {
        katex.render(elt.innerText, elt, { macros });
        continue;
      }

      const parent = elt.parentNode;
      if (parent.nodeName.toLowerCase() === 'pre') {
        continue;
      }

      parent.style.overflowX = 'unset';
      const content = parent.outerHTML.replaceAll(
        /\$<code>([^<]*?)<\/code>\$/g,
        ((match, inner) => {
          return `<code class="code-math">${katex.renderToString(inner, { macros })}</code>`;
        }),
      );

      try {
        parent.outerHTML = content;
      } catch (DOMException) {
        continue;
      }
    }
  });
</script>

<script>
  'use strict';

  const cratesLs = {
    "algo": [
      "bisect",
      "tortoise_hare",
      "twosat"
    ],
    "corro": [
      "borrow"
    ],
    "discussion": [
      "dp",
      "plane-sweep"
    ],
    "ds": [
      "foldable_deque",
      "foldable_queue",
      "rs01_dict",
      "union-find",
      "vec_segtree"
    ],
    "fmt": [
      "str_sep",
      "yes_no"
    ],
    "graph": [
      "bfs01",
      "dijkstra",
      "lowlink",
      "scc"
    ],
    "inner": [],
    "integer": [
      "bin_iter",
      "pdep_pext"
    ],
    "io": [
      "input",
      "readable"
    ],
    "macros": [],
    "math": [
      "divisors",
      "factors",
      "gcd",
      "linear_sieve",
      "modint"
    ],
    "naive": [
      "assoc-list",
      "bit-vector",
      "concat-monoid",
      "disjoint-set"
    ],
    "ops": [
      "monoid",
      "op_add",
      "usize_bounds"
    ],
    "poc": [
      "katex-support"
    ],
    "random": [
      "randgen"
    ],
    "seq": [
      "inversion",
      "lis",
      "majority_vote",
      "suffix_array"
    ],
    "snippet": [
      "proconio"
    ],
    "uslice": [
      "bucket_sort",
      "permutation"
    ]
  };

  document.addEventListener('DOMContentLoaded', () => {
    const crates = [...document.getElementsByClassName('block crate')][0];

    const links = new Map([...crates.querySelectorAll('a')].map((e) => [
      e.innerText,
      {
        name: e.innerText,
        href: e.href,
        current: e.parentNode.classList.contains('current'),
      },
    ]));

    const tree = new Map();
    for (const mod of Object.keys(cratesLs)) {
      for (const crate of cratesLs[mod]) {
        const crate_ = crate.replaceAll('-', '_');
        if (!links.has(crate_)) continue;

        if (!tree.has(mod)) {
          tree.set(mod, []);
        }

        tree.get(mod).push(links.get(crate_));
      }
    }

    const cratesElt = document.createElement('ul');
    cratesElt.classList.add('block');
    cratesElt.classList.add('crate');
    for (const [modName, mod] of tree) {
      {
        const li = document.createElement('li');
        const a = document.createElement('a');
        const link = links.get(modName);
        a.href = link.href;
        if (link.current) li.classList.add('current');
        a.innerText = link.name;
        li.appendChild(a);
        cratesElt.appendChild(li);
      }

      const ul = document.createElement('ul');
      for (const crate of mod) {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = crate.href;
        if (crate.current) li.classList.add('current');
        a.innerText = crate.name;
        li.appendChild(a);
        ul.appendChild(li);
      }
      cratesElt.appendChild(ul);
    }

    crates.outerHTML = cratesElt.outerHTML;
  });
</script>

</head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../plotters_backend/index.html">plotters_backend</a><span class="version">0.3.5</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../plotters_backend/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">plotters_backend</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/plotters_backend/lib.rs.html#1-328">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The Plotters backend API crate. This is a part of Plotters, the Rust drawing and plotting library, for more details regarding the entire
Plotters project, please check the <a href="https://crates.io/crates/plotters">main crate</a>.</p>
<p>This is the crate that used as the connector between Plotters and different backend crates. Since Plotters 0.3, all the backends has been
hosted as seperate crates for the usability and maintainability reasons.</p>
<p>At the same time, Plotters is now supporting third-party backends and all the backends are now supports “plug-and-play”:
To use a external backend, just depends on both the Plotters main crate and the third-party backend crate.</p>
<h2 id="notes-for-implementing-backend-for-plotters"><a class="doc-anchor" href="#notes-for-implementing-backend-for-plotters">§</a>Notes for implementing Backend for Plotters</h2>
<p>To create a new Plotters backend, this crate should be imported to the crate and the trait <a href="trait.DrawingBackend.html">DrawingBackend</a> should
be implemented. It’s highly recommended that the third-party backend uses <code>plotters-backend</code> by version specification <code>^x.y.*</code>.
For more details, see the <a href="#compatibility-note">compatibility note</a>.</p>
<p>If the backend only implements <a href="trait.DrawingBackend.html#tymethod.draw_pixel">DrawingBackend::draw_pixel</a>, the default CPU rasterizer will be
used to give your backend ability of drawing different shapes. For those backend that supports advanced drawing instructions, such as, GPU
acelerated shape drawing, all the provided trait method can be overriden from the specific backend code.</p>
<p>If your backend have text rendering ability, you may want to override the <a href="trait.DrawingBackend.html#tymethod.estimate_text_size">DrawingBackend::estimate_text_size</a>
to avoid wrong spacing, since the Plotters default text handling code may behaves differently from the backend in terms of text rendering.</p>
<h3 id="animated-or-realtime-rendering"><a class="doc-anchor" href="#animated-or-realtime-rendering">§</a>Animated or Realtime Rendering</h3>
<p>Backend might render the image realtimely/animated, for example, a GTK backend for realtime display or a GIF image rendering. To support these
features, you need to play with <code>ensure_prepared</code> and <code>present</code> method. The following figure illustrates how Plotters operates a drawing backend.</p>
<ul>
<li><code>ensure_prepared</code> - Called before each time when plotters want to draw. This function should initialize the backend for current frame, if the backend is already prepared
for a frame, this function should simply do nothing.</li>
<li><code>present</code> - Called when plotters want to finish current frame drawing</li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>                                      .ensure_prepared() &amp;&amp;
  +-------------+    +-------------+    .draw_pixels()             +--------------+   drop
  |Start drwaing|---&gt;|Ready to draw| ------------------------+----&gt;|Finish 1 frame| ---------&gt;
  +-------------+    +-------------+                         |     +--------------+
         ^                  ^                                |            |
         |                  +------------------------------- +            |
         |                            continue drawing                    |
         +----------------------------------------------------------------+
                              start render the next frame
                                      .present()
</code></pre></div>
<ul>
<li>For both animated and static drawing, <code>DrawingBackend::present</code> indicates current frame should be flushed.</li>
<li>For both animated and static drawing, <code>DrawingBackend::ensure_prepared</code> is called every time when plotters need to draw.</li>
<li>For static drawing, the <code>DrawingBackend::present</code> is only called once manually, or from the Drop impl for the backend.</li>
<li>For dynamic drawing, frames are defined by invocation of <code>DrawingBackend::present</code>, everything prior the invocation should belongs to previous frame</li>
</ul>
<h2 id="compatibility-note"><a class="doc-anchor" href="#compatibility-note">§</a>Compatibility Note</h2>
<p>Since Plotters v0.3, plotters use the “plug-and-play” schema to import backends, this requires both Plotters and the backend crates depdens on a
same version of <code>plotters-backend</code> crate. This crate (<code>plotters-backend</code>) will enforce that any revision (means the last number in a version number)
won’t contains breaking change - both on the Plotters side and backend side.</p>
<p>Plotters main crate is always importing the backend crate with version specification <code>plotters-backend = &quot;^&lt;major&gt;.&lt;minor&gt;*&quot;</code>.
It’s highly recommended that all the external crates follows the same rule to import <code>plotters-backend</code> depdendency, to avoid protential breaking
caused by <code>plotters-backend</code> crates gets a revision update.</p>
<p>We also impose a versioning rule with <code>plotters</code> and some backends:
The compatible main crate (<code>plotters</code>) and this crate (<code>plotters-backend</code>) are always use the same major and minor version number.
All the plotters main crate and second-party backends with version “x.y.*” should be compatible, and they should depens on the latest version of <code>plotters-backend x.y.*</code></p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="rasterizer/index.html" title="mod plotters_backend::rasterizer">rasterizer</a></div><div class="desc docblock-short">The built-in rasterizers.</div></li><li><div class="item-name"><a class="mod" href="text_anchor/index.html" title="mod plotters_backend::text_anchor">text_anchor</a></div><div class="desc docblock-short">Text anchor attributes are used to properly position the text.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BackendColor.html" title="struct plotters_backend::BackendColor">BackendColor</a></div><div class="desc docblock-short">The color type that is used by all the backend</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.DrawingErrorKind.html" title="enum plotters_backend::DrawingErrorKind">DrawingErrorKind</a></div><div class="desc docblock-short">The error produced by a drawing backend.</div></li><li><div class="item-name"><a class="enum" href="enum.FontFamily.html" title="enum plotters_backend::FontFamily">FontFamily</a></div><div class="desc docblock-short">Describes font family.
This can be either a specific font family name, such as “arial”,
or a general font family class, such as “serif” and “sans-serif”</div></li><li><div class="item-name"><a class="enum" href="enum.FontStyle.html" title="enum plotters_backend::FontStyle">FontStyle</a></div><div class="desc docblock-short">Describes the font style. Such as Italic, Oblique, etc.</div></li><li><div class="item-name"><a class="enum" href="enum.FontTransform.html" title="enum plotters_backend::FontTransform">FontTransform</a></div><div class="desc docblock-short">Specifying text transformations</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BackendStyle.html" title="trait plotters_backend::BackendStyle">BackendStyle</a></div><div class="desc docblock-short">The style data for the backend drawing API</div></li><li><div class="item-name"><a class="trait" href="trait.BackendTextStyle.html" title="trait plotters_backend::BackendTextStyle">BackendTextStyle</a></div><div class="desc docblock-short">The trait that abstracts a style of a text.</div></li><li><div class="item-name"><a class="trait" href="trait.DrawingBackend.html" title="trait plotters_backend::DrawingBackend">DrawingBackend</a></div><div class="desc docblock-short">The drawing backend trait, which implements the low-level drawing APIs.
This trait has a set of default implementation. And the minimal requirement of
implementing a drawing backend is implementing the <code>draw_pixel</code> function.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.BackendCoord.html" title="type plotters_backend::BackendCoord">BackendCoord</a></div><div class="desc docblock-short">A coordinate in the pixel-based backend. The coordinate follows the framebuffer’s convention,
which defines the top-left point as (0, 0).</div></li></ul></section></div></main></body></html>